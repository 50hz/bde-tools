<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Help &mdash; BDE Tools 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="BDE Tools 1.0 documentation" href="index.html" />
    <link rel="next" title="Waf Based Build System" href="waf.html" />
    <link rel="prev" title="Tutorials" href="tutorials.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="waf.html" title="Waf Based Build System"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorials.html" title="Tutorials"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">BDE Tools 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="help">
<h1>Help<a class="headerlink" href="#help" title="Permalink to this headline">¶</a></h1>
<div class="section" id="frequently-asked-questions">
<h2>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="why-did-you-choose-waf-vs-another-build-tool">
<h3>Why did you choose waf vs another build tool?<a class="headerlink" href="#why-did-you-choose-waf-vs-another-build-tool" title="Permalink to this headline">¶</a></h3>
<p>We had the following goals for the cross-platform build system:</p>
<ol class="arabic simple">
<li>Serve as an in-place replacement for an existing in-house build system,
&#8220;bde_build&#8221;, that already used the existing <a class="reference internal" href="bde_repo.html#bde-repo-metadata"><span>BDE Metadata</span></a>.</li>
<li>Require either no configuration, or only very minimal configuration for any
<a class="reference internal" href="bde_repo.html#bde-repo-top"><span>BDE-Style Repository</span></a>. Be as user friendly as possible.</li>
<li>Have good performance.</li>
<li>Integrate features not typically found in a build system, such the
verification of the repo structure, checking for cyclic dependencies, and
running test drivers in a configurable way.</li>
</ol>
<p>Requirements 1 and 4 meant that ease of customization was an extremely important
criteria.</p>
<p>We evaluated a few different cross-platform build tools for this purpose,
including <a class="reference external" href="http://www.scons.org/">SCons</a>, <a class="reference external" href="https://github.com/waf-project/waf">waf</a>, <a class="reference external" href="http://www.cmake.org/">CMake</a>, and
<a class="reference external" href="http://www.cmake.org/">gyp</a>. We settled on using waf because it had the best
overall combination of customizability and speed among the tools that were
evaluated.</p>
<p>Waf, along with Scons, can be extended using Python.  Using python as the
extension language made it easy for us to add additional features that
integrates natively with the build tool.  Gyp can generate ninja targets, which
is fast, but gyp&#8217;s declarative JSON configuration requires preprocessors for
doing any deep customization. CMake is perhaps the most mature, but CMake&#8217;s
domain specific language places certain limitations on what can be integrated
into the tool and leaves a lot to be desired.</p>
<p>What made us choose waf over scons is that waf, which began as a fork of Scons,
is <a class="reference external" href="http://www.freehackers.org/~tnagy/bench.txt">designed to be much faster than scons</a>.</p>
</div>
<div class="section" id="why-is-there-a-copy-of-waf-in-this-repository">
<h3>Why is there a copy of waf in this repository?<a class="headerlink" href="#why-is-there-a-copy-of-waf-in-this-repository" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">bde-tools</span></code> repository contains customziations that may apply to only the
version of waf bundled in the repo.  Furthermore, waf is also relatively
lightweight, being only about 100KB in size.</p>
</div>
<div class="section" id="do-i-have-to-be-using-the-bde-libraries-to-utilize-the-provided-build-tools">
<h3>Do I have to be using the BDE libraries to utilize the provided build tools?<a class="headerlink" href="#do-i-have-to-be-using-the-bde-libraries-to-utilize-the-provided-build-tools" title="Permalink to this headline">¶</a></h3>
<p>No. The tools work for any conforming <a class="reference internal" href="bde_repo.html#bde-repo-top"><span>BDE-Style Repository</span></a>.</p>
</div>
<div class="section" id="how-do-i-build-using-a-specific-version-of-visual-studio">
<h3>How do I build using a specific version of Visual Studio?<a class="headerlink" href="#how-do-i-build-using-a-specific-version-of-visual-studio" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">CXX</span></code> environment variable isn&#8217;t used on Windows. Instead, you must use
the <code class="docutils literal"><span class="pre">--msvc_version</span></code> configuration option in waf.</p>
<p>The following table shows the relationship between the CL.exe (compiler)
version, Visual Studio year, and Visual Studio version.</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="36%" />
<col width="42%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CL version</th>
<th class="head">Visual Studio Year</th>
<th class="head">Visual Studio Version</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>18.00</td>
<td>2013</td>
<td>12.0</td>
</tr>
<tr class="row-odd"><td>17.00</td>
<td>2012</td>
<td>11.0</td>
</tr>
<tr class="row-even"><td>16.00</td>
<td>2010</td>
<td>10.0</td>
</tr>
<tr class="row-odd"><td>15.00</td>
<td>2008</td>
<td>9.0</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">--msvc_version</span></code> accepts the string &#8220;msvc&#8221; followed by a space, followed
by the Visual Studio version number. For example, to select Visual Studio 2013,
you can pass the following option to <code class="docutils literal"><span class="pre">waf</span> <span class="pre">configure</span></code></p>
<div class="highlight-python"><div class="highlight"><pre>$ waf configure --msvc_version &quot;msvc 12.0&quot;
</pre></div>
</div>
<p>Alternatively, you can <a class="reference internal" href="tutorials.html#tutorials-setwafenv-bde-windows"><span>Use bde_setwafenv.py to Build BDE on Windows</span></a>.</p>
</div>
</div>
<div class="section" id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<div class="section" id="i-see-a-python-exception-when-running-waf-configure">
<h3>I see a python exception when running <code class="docutils literal"><span class="pre">waf</span> <span class="pre">configure</span></code>.<a class="headerlink" href="#i-see-a-python-exception-when-running-waf-configure" title="Permalink to this headline">¶</a></h3>
<p>Most likely, you have updated BDE Tools without re-configuring the source repo
being built.  Try removing the existing configuration:</p>
<div class="highlight-python"><div class="highlight"><pre>$ waf distclean  # deletes the output directory, including the existing configuration
$ waf configure build
</pre></div>
</div>
</div>
<div class="section" id="waf-is-not-recognizing-the-changes-that-i-just-made">
<h3>Waf is not recognizing the changes that I just made.<a class="headerlink" href="#waf-is-not-recognizing-the-changes-that-i-just-made" title="Permalink to this headline">¶</a></h3>
<p>Waf reads and caches the metadata and structure of the repository during <code class="docutils literal"><span class="pre">waf</span>
<span class="pre">configure</span></code> to speed up the build process during <code class="docutils literal"><span class="pre">waf</span> <span class="pre">build</span></code>.</p>
<p>If you made any physical changes to the repository, such as having updated the
metadata, or added a new component, you must run <code class="docutils literal"><span class="pre">waf</span> <span class="pre">configure</span></code> again for
waf to pick up the changes you have made:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;make physical changes to repo&gt;
$ waf configure
$ waf build
</pre></div>
</div>
</div>
<div class="section" id="waf-is-not-recognizing-the-new-component-that-i-added">
<h3>Waf is not recognizing the new component that I added.<a class="headerlink" href="#waf-is-not-recognizing-the-new-component-that-i-added" title="Permalink to this headline">¶</a></h3>
<p>Make sure that you have also made the corresponding changes to the
<a class="reference internal" href="bde_repo.html#bde-repo-mem"><span>Mem File</span></a> of the package in which you added the new component.</p>
<p>For example, if you added a component named <code class="docutils literal"><span class="pre">abcd_comp1</span></code>, make sure that you
also add <code class="docutils literal"><span class="pre">abcd_comp1</span></code> to the <code class="docutils literal"><span class="pre">mem</span></code> file of the package <code class="docutils literal"><span class="pre">abcd</span></code>.</p>
</div>
</div>
<div class="section" id="known-issues">
<h2>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h2>
<p>Please refer to <a class="reference external" href="https://github.com/bloomberg/bde-tools/issues">the issue tracker</a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Help</a><ul>
<li><a class="reference internal" href="#frequently-asked-questions">Frequently Asked Questions</a><ul>
<li><a class="reference internal" href="#why-did-you-choose-waf-vs-another-build-tool">Why did you choose waf vs another build tool?</a></li>
<li><a class="reference internal" href="#why-is-there-a-copy-of-waf-in-this-repository">Why is there a copy of waf in this repository?</a></li>
<li><a class="reference internal" href="#do-i-have-to-be-using-the-bde-libraries-to-utilize-the-provided-build-tools">Do I have to be using the BDE libraries to utilize the provided build tools?</a></li>
<li><a class="reference internal" href="#how-do-i-build-using-a-specific-version-of-visual-studio">How do I build using a specific version of Visual Studio?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li><a class="reference internal" href="#i-see-a-python-exception-when-running-waf-configure">I see a python exception when running <code class="docutils literal"><span class="pre">waf</span> <span class="pre">configure</span></code>.</a></li>
<li><a class="reference internal" href="#waf-is-not-recognizing-the-changes-that-i-just-made">Waf is not recognizing the changes that I just made.</a></li>
<li><a class="reference internal" href="#waf-is-not-recognizing-the-new-component-that-i-added">Waf is not recognizing the new component that I added.</a></li>
</ul>
</li>
<li><a class="reference internal" href="#known-issues">Known Issues</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorials.html"
                        title="previous chapter">Tutorials</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="waf.html"
                        title="next chapter">Waf Based Build System</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/help.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="waf.html" title="Waf Based Build System"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorials.html" title="Tutorials"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">BDE Tools 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Bloomberg Finance L.P..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>